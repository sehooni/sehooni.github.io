<!DOCTYPE html><!--xTAnN8PQ3b6_LdzNENhZ7--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="https://user-images.githubusercontent.com/84653623/219853939-abbffaa9-00c9-4e77-8bfd-ddffcb0ba9f6.png"/><link rel="preload" as="image" href="https://user-images.githubusercontent.com/84653623/219853927-2814755c-3693-4902-9323-44280909ec0a.png"/><link rel="stylesheet" href="/_next/static/css/51e5ba5c7de07f80.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/5eacd01f773eed7f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-1c8036505c2e140d.js"/><script src="/_next/static/chunks/4bd1b696-c023c6e3521b1417.js" async=""></script><script src="/_next/static/chunks/255-c0bfd06c366bd1e0.js" async=""></script><script src="/_next/static/chunks/main-app-dcd8b77c1bc52c83.js" async=""></script><script src="/_next/static/chunks/app/%5Bslug%5D/page-ad31c54747687caf.js" async=""></script><title>Sehoon&#x27;s Workspace</title><meta name="description" content="Welcome to my page!"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="min-h-screen flex flex-col font-sans"><div hidden=""><!--$--><!--/$--></div><div class="flex gap-10"><article class="flex-1 min-w-0 prose prose-slate dark:prose-invert max-w-none"><header class="mb-8 not-prose border-b pb-8"><h1 class="text-4xl font-bold mb-4">[Jetson] Jetson Nano를 이용한 Yolov5 활용기 (2) - CUDA BUILD</h1><div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400"><time dateTime="2023-02-17">February 17, 2023</time></div></header><p>이전 포스팅에 이어 진행하도록 하겠습니다.
이 부분은 NVIDIA의 JETSON NANO에서도 동일하게 작동하게 됩니다!</p>
<h1 id="2" class="text-3xl font-bold mt-8 mb-4">2.  Jetson Nano 내에 CUDA Build 진행</h1>
<p>이때는 참고 사이트 3번, 4번을 보면서 설치해주면 된다.</p>
<p>참고로, yahboom은 nvidia와 달리, jetpack 버전이 4.4.1로 고정되어 있기 때문에(23.01.09 기준) 그대로 따라하다가는 제대로 작동하지 않는 경우의 수가 발생할 수도 있다…!!</p>
<p>opencv를 build해 줄 때 맞는 버전을 찾아서 해주는게 중요.</p>
<h3 id="" class="text-xl font-bold mt-6 mb-3">(23.01.09 오류 발견) - jetpack unknown 관련</h3>
<ul>
<li>
<p>opencv를 cuda와 연결해주기 위해 build를 하게 되는데, 이 과정에서 jetpack의 버전이 unknown으로 바뀌어버리는 문제 발생 (jtop을 명령어로 입력해주면 젯슨을 구성하는 gpu, memory 등등 확인 간능)</p>
</li>
<li>
<p>개인적인 판단에는 sudo apt-get upgrade 과정에서 다음과 같은 error가 발생했었는데..</p>
<p><img src="https://user-images.githubusercontent.com/84653623/219853939-abbffaa9-00c9-4e77-8bfd-ddffcb0ba9f6.png" alt="Untitled"/></p>
<ul>
<li>
<p>위의 에러를 해결하고자 다음 사이트를 참고하여 nvidia-l4t-bootloader, nvidia-l4t-xusb-firmware, nvidia-l4t-initrd를 삭제해주었었는데, 이러한 행동이 jetpack unknown의 결과를 초래한 것 같다.</p>
</li>
<li>
<p>일단 opencv build를 그대로 진행하였고, 이후 yolov5의 requirements를 설치해준 뒤 작동여부를 확인할 예정!</p>
</li>
<li>
<p>참고 사이트</p>
<ul>
<li>본 글의 해결 방법 3번 이용.</li>
</ul>
<p><a href="https://ko.linux-console.net/?p=354#gsc.tab=0">Ubuntu에서 \하위 프로세스 / usr / bin / dpkg가 오류 코드 (1)를 반환 함\을 해결하는 방법</a></p>
</li>
<li>
<p>결과론 적으로 일단 잘 설치되고 작동은 한다??! (2023.01.11)</p>
</li>
<li>
<p>FPS 문제가 있기는 한데 차차 해결하는걸로</p>
</li>
<li>
<p>여기서 명시해놓은 부분은 다음번 야붐 만들 때 적용해서 해 볼 예정!!</p>
</li>
</ul>
</li>
</ul>
<p>우선 필수 SW를 설치해줘야 한다.</p>
<h2 id="1" class="text-2xl font-bold mt-8 mb-4">1. Jetson-stats</h2>
<p>jetson-stats는 Jetson Nano의 종합적인 Stat을 기존의 수많은 터미널 명령어로 확인해야 했으나, TUI(Text User Interface) 형태로 편리하게 이용 가능함.</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">sudo</span> apt-get update
$ <span class="hljs-built_in">sudo</span> apt-get upgrade <span class="hljs-comment"># 이 줄이 오류(23.01.09)를 야기했던 것으로 기억. 다음 시도때는 이 줄 없이 진행해볼 예정(22.01.10)</span>
$ <span class="hljs-built_in">sudo</span> apt-get install python-pip
$ <span class="hljs-built_in">sudo</span> -H pip install -U jetson-stats
$ <span class="hljs-built_in">sudo</span> reboot

<span class="hljs-comment"># jetson-stats 실행</span>
$ jtop
</code></pre>
<p>터미널에 jtop 명령어를 입력하는 것만으로 <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>CPU, GPU, RAM, Swap, Fan 등의 H/W정보와 CUDA, TensorRT, Jetpack 버전 확인 및 Fan Speed, Swap 공간 설정</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>이 가능하다.</p>
<h2 id="2" class="text-2xl font-bold mt-8 mb-4">2. gdm3 제거 및 lightdm 설치</h2>
<p>Jetson Nano는 lightdm 환경에서 YOLOv5를 실행시키면 램 사용량이 3.9 / 4.1GB까지 치솟는다.</p>
<p>또한 Swap도 200MB정도 차지. 또한 이후 <strong><strong>OpenCV 빌드를 위해 Swap 공간까지 총 8.5GB+의 공간이 필요!</strong></strong></p>
<p>따라서 램 사용량을 최대한 줄여야하는데, desktop manager으로 lightdm을 사용함으로서 RAM 사용량을 손쉽게 줄일 수 있음.</p>
<pre><code class="hljs language-bash">$ <span class="hljs-built_in">sudo</span> apt-get install lightdm
$ <span class="hljs-built_in">sudo</span> apt-get purge gdm3
</code></pre>
<h2 id="3" class="text-2xl font-bold mt-8 mb-4">3. Swap 공간 설정하기</h2>
<p>다음과 같은 내용으로 스왑 파일 내의 값을 업데이트.</p>
<p>모든 것이 완료되어 재부팅된 후, 터미널에서 free -m 명령어를 입력했을 때, swap 공간이 6074정도로 나오면 성공!</p>
<pre><code class="hljs language-bash">
<span class="hljs-comment"># 업데이트 확인, 이전 단계에서 했다면 굳이 할 필요 없음</span>
$ <span class="hljs-built_in">sudo</span> apt-get update
$ <span class="hljs-built_in">sudo</span> apt-get upgrade

<span class="hljs-comment"># nano 에디터를 설치</span>
$ <span class="hljs-built_in">sudo</span> apt-get install nano

<span class="hljs-comment"># dphys-swapfile을 설치</span>
$ <span class="hljs-built_in">sudo</span> apt-get install dphys-swapfile

<span class="hljs-comment">## 두 Swap 파일의 값이 다음과 같도록 값을 추가하거나, 파일 내 주석 해제</span>
<span class="hljs-comment"># CONF_SWAPSIZE=4096</span>
<span class="hljs-comment"># CONF_SWAPFACTOR=2</span>
<span class="hljs-comment"># CONF_MAXSWAP=4096</span>

<span class="hljs-comment"># /sbin/dphys-swapfile를 엽니다.</span>
$ <span class="hljs-built_in">sudo</span> nano /sbin/dphys-swapfile
 
<span class="hljs-comment"># 값을 수정한 후 [Ctrl] + [X], [y], [Enter]를 눌러 저장하고 닫습니다</span>
 
 
<span class="hljs-comment"># /etc/dphys-swapfile를 편집합니다.</span>
<span class="hljs-built_in">sudo</span> nano /etc/dphys-swapfile
 
<span class="hljs-comment"># 값을 수정한 후 [Ctrl] + [X], [y], [Enter]를 눌러 저장하고 닫습니다</span>

<span class="hljs-comment"># Jetson Nano 재부팅</span>
<span class="hljs-built_in">sudo</span> reboot
</code></pre>
<h2 id="4" class="text-2xl font-bold mt-8 mb-4">4. OpenCV 4.5.0 with Cuda</h2>
<pre><code class="hljs language-bash"><span class="hljs-comment"># check your memory first</span>
$ free -m
<span class="hljs-comment"># you need at least a total of 6.5 GB!</span>
<span class="hljs-comment"># if not, enlarge your swap space as explained in the guide</span>
$ wget https://github.com/Qengineering/Install-OpenCV-Jetson-Nano/raw/main/OpenCV-4-5-0.sh
$ <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chmod</span> 755 ./OpenCV-4-5-0.sh
$ ./OpenCV-4-5-0.sh
</code></pre>
<p>이때 편리성을 위해서 마지막 줄 명령어를 sudo로 입력하면, 이것저것 다시 깔아줘야하므로,…( 이래서 다시 밀었음)</p>
<p>그냥 저 코드 써져 있는 그대로 진행해주세욤</p>
<p>약 2시간 30분 정도 소요되는데 그것보다 더 오래 걸릴 수도 있음</p>
<p>인내심을 갖고 기다리면서 다른거 하면서 보면 되는데, 꼭 잘 되고 있는지 확인해주기!</p>
<h2 id="5" class="text-2xl font-bold mt-8 mb-4">5. <strong><strong>PyTorch 1.8 + torchvision v0.9.0</strong></strong></h2>
<p>큰 산들은 거의 다 넘어왔다. 여기까지 성공했으면 90프로 온거다.</p>
<p>이제 pytorch와 torchvision을 설치하고 YOLOv5에 필요한 equirements만 설치하면 모든 게 다 끝난다.</p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># PyTorch 1.8.0 다운로드 및 dependencies 설치</span>
wget https://nvidia.box.com/shared/static/p57jwntv436lfrd78inwl7iml6p13fzh.whl -O torch-1.8.0-cp36-cp36m-linux_aarch64.whl
<span class="hljs-built_in">sudo</span> apt-get install python3-pip libopenblas-base libopenmpi-dev 
 
<span class="hljs-comment"># Cython, numpy, pytorch 설치</span>
pip3 install Cython
pip3 install numpy torch-1.8.0-cp36-cp36m-linux_aarch64.whl
 
<span class="hljs-comment"># torchvision dependencies 설치</span>
<span class="hljs-built_in">sudo</span> apt-get install libjpeg-dev zlib1g-dev libpython3-dev libavcodec-dev libavformat-dev libswscale-dev
git <span class="hljs-built_in">clone</span> --branch v0.9.0 https://github.com/pytorch/vision torchvision
<span class="hljs-built_in">cd</span> torchvision
<span class="hljs-built_in">export</span> BUILD_VERSION=0.9.0
python3 setup.py install --user
<span class="hljs-built_in">cd</span> ../  <span class="hljs-comment"># attempting to load torchvision from build dir will result in import error</span>
</code></pre>
<p>설치가 끝나면</p>
<p>jtop으로 구성 환경과 각 모듈이 잘 설치되었는지 확인해주면 된다.</p>
<p><img src="https://user-images.githubusercontent.com/84653623/219853927-2814755c-3693-4902-9323-44280909ec0a.png" alt="Untitled 1"/></p>
<p>이런 느낌으로!</p>
<h1 id="" class="text-3xl font-bold mt-8 mb-4">글을 마무리하며,,</h1>
<p>여기까지 따라오면 yolov5를 설치하기 위한 환경 설정이 완료됩니다.</p>
<p>다음 포스팅에서는 본격적인 yolov5 설치와 프로젝트 중 발생했던 오류들에 대해 설명하고 해결 방법들을 제시하도록 하겠습니다.</p>
<p>PS. 추가 문의사항 및 질문은 환영합니다. 그를 통해 저도 더 성장할 수 있을테니까요. 긴 글 읽어주셔서 감사합니다.</p><div class="mt-10 border-t pt-10"></div></article></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-1c8036505c2e140d.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[9766,[],\"\"]\n3:I[8924,[],\"\"]\n5:I[4431,[],\"OutletBoundary\"]\n7:I[5278,[],\"AsyncMetadataOutlet\"]\n9:I[4431,[],\"ViewportBoundary\"]\nb:I[4431,[],\"MetadataBoundary\"]\nc:\"$Sreact.suspense\"\ne:I[7150,[],\"\"]\n:HL[\"/_next/static/css/51e5ba5c7de07f80.css\",\"style\"]\n:HL[\"/_next/static/css/5eacd01f773eed7f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"xTAnN8PQ3b6-LdzNENhZ7\",\"p\":\"\",\"c\":[\"\",\"2023-02-17-Jetson_CUDA_Build\"],\"i\":false,\"f\":[[[\"\",{\"children\":[[\"slug\",\"2023-02-17-Jetson_CUDA_Build\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/51e5ba5c7de07f80.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"min-h-screen flex flex-col font-sans\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"slug\",\"2023-02-17-Jetson_CUDA_Build\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5eacd01f773eed7f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L5\",null,{\"children\":[\"$L6\",[\"$\",\"$L7\",null,{\"promise\":\"$@8\"}]]}]]}],{},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$L9\",null,{\"children\":\"$La\"}],null],[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$c\",null,{\"fallback\":null,\"children\":\"$Ld\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$e\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"div\",null,{\"className\":\"flex gap-10\",\"children\":[[\"$\",\"article\",null,{\"className\":\"flex-1 min-w-0 prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-8 not-prose border-b pb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-4xl font-bold mb-4\",\"children\":\"[Jetson] Jetson Nano를 이용한 Yolov5 활용기 (2) - CUDA BUILD\"}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400\",\"children\":[[\"$\",\"time\",null,{\"dateTime\":\"2023-02-17\",\"children\":\"February 17, 2023\"}],\"$undefined\"]}]]}],[[\"$\",\"p\",\"p-0\",{\"children\":\"이전 포스팅에 이어 진행하도록 하겠습니다.\\n이 부분은 NVIDIA의 JETSON NANO에서도 동일하게 작동하게 됩니다!\"}],\"\\n\",[\"$\",\"h1\",\"h1-0\",{\"id\":\"2\",\"className\":\"text-3xl font-bold mt-8 mb-4\",\"children\":\"2.  Jetson Nano 내에 CUDA Build 진행\"}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":\"이때는 참고 사이트 3번, 4번을 보면서 설치해주면 된다.\"}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":\"참고로, yahboom은 nvidia와 달리, jetpack 버전이 4.4.1로 고정되어 있기 때문에(23.01.09 기준) 그대로 따라하다가는 제대로 작동하지 않는 경우의 수가 발생할 수도 있다…!!\"}],\"\\n\",[\"$\",\"p\",\"p-3\",{\"children\":\"opencv를 build해 줄 때 맞는 버전을 찾아서 해주는게 중요.\"}],\"\\n\",[\"$\",\"h3\",\"h3-0\",{\"id\":\"\",\"className\":\"text-xl font-bold mt-6 mb-3\",\"children\":\"(23.01.09 오류 발견) - jetpack unknown 관련\"}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"opencv를 cuda와 연결해주기 위해 build를 하게 되는데, 이 과정에서 jetpack의 버전이 unknown으로 바뀌어버리는 문제 발생 (jtop을 명령어로 입력해주면 젯슨을 구성하는 gpu, memory 등등 확인 간능)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"개인적인 판단에는 sudo apt-get upgrade 과정에서 다음과 같은 error가 발생했었는데..\"}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"https://user-images.githubusercontent.com/84653623/219853939-abbffaa9-00c9-4e77-8bfd-ddffcb0ba9f6.png\",\"alt\":\"Untitled\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"위의 에러를 해결하고자 다음 사이트를 참고하여 nvidia-l4t-bootloader, nvidia-l4t-xusb-firmware, nvidia-l4t-initrd를 삭제해주었었는데, 이러한 행동이 jetpack unknown의 결과를 초래한 것 같다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"일단 opencv build를 그대로 진행하였고, 이후 yolov5의 requirements를 설치해준 뒤 작동여부를 확인할 예정!\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"참고 사이트\"}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"본 글의 해결 방법 3번 이용.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":[\"$\",\"a\",\"a-0\",{\"href\":\"https://ko.linux-console.net/?p=354#gsc.tab=0\",\"children\":\"Ubuntu에서 \\\\하위 프로세스 / usr / bin / dpkg가 오류 코드 (1)를 반환 함\\\\을 해결하는 방법\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"결과론 적으로 일단 잘 설치되고 작동은 한다??! (2023.01.11)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"FPS 문제가 있기는 한데 차차 해결하는걸로\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"여기서 명시해놓은 부분은 다음번 야붐 만들 때 적용해서 해 볼 예정!!\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-4\",{\"children\":\"우선 필수 SW를 설치해줘야 한다.\"}],\"\\n\",[\"$\",\"h2\",\"h2-0\",{\"id\":\"1\",\"className\":\"text-2xl font-bold mt-8 mb-4\",\"children\":\"1. Jetson-stats\"}],\"\\n\",[\"$\",\"p\",\"p-5\",{\"children\":\"jetson-stats는 Jetson Nano의 종합적인 Stat을 기존의 수많은 터미널 명령어로 확인해야 했으나, TUI(Text User Interface) 형태로 편리하게 이용 가능함.\"}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"hljs language-bash\",\"children\":[\"$$ \",[\"$\",\"span\",\"span-0\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" apt-get update\\n$ \",[\"$\",\"span\",\"span-1\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" apt-get upgrade \",[\"$\",\"span\",\"span-2\",{\"className\":\"hljs-comment\",\"children\":\"# 이 줄이 오류(23.01.09)를 야기했던 것으로 기억. 다음 시도때는 이 줄 없이 진행해볼 예정(22.01.10)\"}],\"\\n$ \",[\"$\",\"span\",\"span-3\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" apt-get install python-pip\\n$ \",[\"$\",\"span\",\"span-4\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" -H pip install -U jetson-stats\\n$ \",[\"$\",\"span\",\"span-5\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" reboot\\n\\n\",[\"$\",\"span\",\"span-6\",{\"className\":\"hljs-comment\",\"children\":\"# jetson-stats 실행\"}],\"\\n$ jtop\\n\"]}]}],\"\\n\",[\"$\",\"p\",\"p-6\",{\"children\":[\"터미널에 jtop 명령어를 입력하는 것만으로 \",[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":\"$Lf\"}]}]}]}],\"이 가능하다.\"]}],\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\"],\"$L2b\"]}],\"$L2c\"]}]\n"])</script><script>self.__next_f.push([1,"2d:I[3089,[\"182\",\"static/chunks/app/%5Bslug%5D/page-ad31c54747687caf.js\"],\"default\"]\n2e:I[4010,[\"182\",\"static/chunks/app/%5Bslug%5D/page-ad31c54747687caf.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"f:[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":\"CPU, GPU, RAM, Swap, Fan 등의 H/W정보와 CUDA, TensorRT, Jetpack 버전 확인 및 Fan Speed, Swap 공간 설정\"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]\n"])</script><script>self.__next_f.push([1,"10:[\"$\",\"h2\",\"h2-1\",{\"id\":\"2\",\"className\":\"text-2xl font-bold mt-8 mb-4\",\"children\":\"2. gdm3 제거 및 lightdm 설치\"}]\n11:[\"$\",\"p\",\"p-7\",{\"children\":\"Jetson Nano는 lightdm 환경에서 YOLOv5를 실행시키면 램 사용량이 3.9 / 4.1GB까지 치솟는다.\"}]\n12:[\"$\",\"p\",\"p-8\",{\"children\":[\"또한 Swap도 200MB정도 차지. 또한 이후 \",[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":\"OpenCV 빌드를 위해 Swap 공간까지 총 8.5GB+의 공간이 필요!\"}]}]]}]\n13:[\"$\",\"p\",\"p-9\",{\"children\":\"따라서 램 사용량을 최대한 줄여야하는데, desktop manager으로 lightdm을 사용함으로서 RAM 사용량을 손쉽게 줄일 수 있음.\"}]\n14:[\"$\",\"pre\",\"pre-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"hljs language-bash\",\"children\":[\"$$ \",[\"$\",\"span\",\"span-0\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" apt-get install lightdm\\n$ \",[\"$\",\"span\",\"span-1\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" apt-get purge gdm3\\n\"]}]}]\n15:[\"$\",\"h2\",\"h2-2\",{\"id\":\"3\",\"className\":\"text-2xl font-bold mt-8 mb-4\",\"children\":\"3. Swap 공간 설정하기\"}]\n16:[\"$\",\"p\",\"p-10\",{\"children\":\"다음과 같은 내용으로 스왑 파일 내의 값을 업데이트.\"}]\n17:[\"$\",\"p\",\"p-11\",{\"children\":\"모든 것이 완료되어 재부팅된 후, 터미널에서 free -m 명령어를 입력했을 때, swap 공간이 6074정도로 나오면 성공!\"}]\n"])</script><script>self.__next_f.push([1,"18:[\"$\",\"pre\",\"pre-2\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"hljs language-bash\",\"children\":[\"\\n\",[\"$\",\"span\",\"span-0\",{\"className\":\"hljs-comment\",\"children\":\"# 업데이트 확인, 이전 단계에서 했다면 굳이 할 필요 없음\"}],\"\\n$ \",[\"$\",\"span\",\"span-1\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" apt-get update\\n$ \",[\"$\",\"span\",\"span-2\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" apt-get upgrade\\n\\n\",[\"$\",\"span\",\"span-3\",{\"className\":\"hljs-comment\",\"children\":\"# nano 에디터를 설치\"}],\"\\n$ \",[\"$\",\"span\",\"span-4\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" apt-get install nano\\n\\n\",[\"$\",\"span\",\"span-5\",{\"className\":\"hljs-comment\",\"children\":\"# dphys-swapfile을 설치\"}],\"\\n$ \",[\"$\",\"span\",\"span-6\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" apt-get install dphys-swapfile\\n\\n\",[\"$\",\"span\",\"span-7\",{\"className\":\"hljs-comment\",\"children\":\"## 두 Swap 파일의 값이 다음과 같도록 값을 추가하거나, 파일 내 주석 해제\"}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"className\":\"hljs-comment\",\"children\":\"# CONF_SWAPSIZE=4096\"}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"className\":\"hljs-comment\",\"children\":\"# CONF_SWAPFACTOR=2\"}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"className\":\"hljs-comment\",\"children\":\"# CONF_MAXSWAP=4096\"}],\"\\n\\n\",[\"$\",\"span\",\"span-11\",{\"className\":\"hljs-comment\",\"children\":\"# /sbin/dphys-swapfile를 엽니다.\"}],\"\\n$ \",[\"$\",\"span\",\"span-12\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" nano /sbin/dphys-swapfile\\n \\n\",[\"$\",\"span\",\"span-13\",{\"className\":\"hljs-comment\",\"children\":\"# 값을 수정한 후 [Ctrl] + [X], [y], [Enter]를 눌러 저장하고 닫습니다\"}],\"\\n \\n \\n\",[\"$\",\"span\",\"span-14\",{\"className\":\"hljs-comment\",\"children\":\"# /etc/dphys-swapfile를 편집합니다.\"}],\"\\n\",[\"$\",\"span\",\"span-15\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" nano /etc/dphys-swapfile\\n \\n\",[\"$\",\"span\",\"span-16\",{\"className\":\"hljs-comment\",\"children\":\"# 값을 수정한 후 [Ctrl] + [X], [y], [Enter]를 눌러 저장하고 닫습니다\"}],\"\\n\\n\",[\"$\",\"span\",\"span-17\",{\"className\":\"hljs-comment\",\"children\":\"# Jetson Nano 재부팅\"}],\"\\n\",[\"$\",\"span\",\"span-18\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" reboot\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"19:[\"$\",\"h2\",\"h2-3\",{\"id\":\"4\",\"className\":\"text-2xl font-bold mt-8 mb-4\",\"children\":\"4. OpenCV 4.5.0 with Cuda\"}]\n"])</script><script>self.__next_f.push([1,"1a:[\"$\",\"pre\",\"pre-3\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"hljs language-bash\",\"children\":[[\"$\",\"span\",\"span-0\",{\"className\":\"hljs-comment\",\"children\":\"# check your memory first\"}],\"\\n$ free -m\\n\",[\"$\",\"span\",\"span-1\",{\"className\":\"hljs-comment\",\"children\":\"# you need at least a total of 6.5 GB!\"}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"className\":\"hljs-comment\",\"children\":\"# if not, enlarge your swap space as explained in the guide\"}],\"\\n$ wget https://github.com/Qengineering/Install-OpenCV-Jetson-Nano/raw/main/OpenCV-4-5-0.sh\\n$ \",[\"$\",\"span\",\"span-3\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" \",[\"$\",\"span\",\"span-4\",{\"className\":\"hljs-built_in\",\"children\":\"chmod\"}],\" 755 ./OpenCV-4-5-0.sh\\n$ ./OpenCV-4-5-0.sh\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"1b:[\"$\",\"p\",\"p-12\",{\"children\":\"이때 편리성을 위해서 마지막 줄 명령어를 sudo로 입력하면, 이것저것 다시 깔아줘야하므로,…( 이래서 다시 밀었음)\"}]\n1c:[\"$\",\"p\",\"p-13\",{\"children\":\"그냥 저 코드 써져 있는 그대로 진행해주세욤\"}]\n1d:[\"$\",\"p\",\"p-14\",{\"children\":\"약 2시간 30분 정도 소요되는데 그것보다 더 오래 걸릴 수도 있음\"}]\n1e:[\"$\",\"p\",\"p-15\",{\"children\":\"인내심을 갖고 기다리면서 다른거 하면서 보면 되는데, 꼭 잘 되고 있는지 확인해주기!\"}]\n1f:[\"$\",\"h2\",\"h2-4\",{\"id\":\"5\",\"className\":\"text-2xl font-bold mt-8 mb-4\",\"children\":[\"5. \",[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"strong\",\"strong-0\",{\"children\":\"PyTorch 1.8 + torchvision v0.9.0\"}]}]]}]\n20:[\"$\",\"p\",\"p-16\",{\"children\":\"큰 산들은 거의 다 넘어왔다. 여기까지 성공했으면 90프로 온거다.\"}]\n21:[\"$\",\"p\",\"p-17\",{\"children\":\"이제 pytorch와 torchvision을 설치하고 YOLOv5에 필요한 equirements만 설치하면 모든 게 다 끝난다.\"}]\n"])</script><script>self.__next_f.push([1,"22:[\"$\",\"pre\",\"pre-4\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"hljs language-bash\",\"children\":[[\"$\",\"span\",\"span-0\",{\"className\":\"hljs-comment\",\"children\":\"# PyTorch 1.8.0 다운로드 및 dependencies 설치\"}],\"\\nwget https://nvidia.box.com/shared/static/p57jwntv436lfrd78inwl7iml6p13fzh.whl -O torch-1.8.0-cp36-cp36m-linux_aarch64.whl\\n\",[\"$\",\"span\",\"span-1\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" apt-get install python3-pip libopenblas-base libopenmpi-dev \\n \\n\",[\"$\",\"span\",\"span-2\",{\"className\":\"hljs-comment\",\"children\":\"# Cython, numpy, pytorch 설치\"}],\"\\npip3 install Cython\\npip3 install numpy torch-1.8.0-cp36-cp36m-linux_aarch64.whl\\n \\n\",[\"$\",\"span\",\"span-3\",{\"className\":\"hljs-comment\",\"children\":\"# torchvision dependencies 설치\"}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"className\":\"hljs-built_in\",\"children\":\"sudo\"}],\" apt-get install libjpeg-dev zlib1g-dev libpython3-dev libavcodec-dev libavformat-dev libswscale-dev\\ngit \",[\"$\",\"span\",\"span-5\",{\"className\":\"hljs-built_in\",\"children\":\"clone\"}],\" --branch v0.9.0 https://github.com/pytorch/vision torchvision\\n\",[\"$\",\"span\",\"span-6\",{\"className\":\"hljs-built_in\",\"children\":\"cd\"}],\" torchvision\\n\",[\"$\",\"span\",\"span-7\",{\"className\":\"hljs-built_in\",\"children\":\"export\"}],\" BUILD_VERSION=0.9.0\\npython3 setup.py install --user\\n\",[\"$\",\"span\",\"span-8\",{\"className\":\"hljs-built_in\",\"children\":\"cd\"}],\" ../  \",[\"$\",\"span\",\"span-9\",{\"className\":\"hljs-comment\",\"children\":\"# attempting to load torchvision from build dir will result in import error\"}],\"\\n\"]}]}]\n"])</script><script>self.__next_f.push([1,"23:[\"$\",\"p\",\"p-18\",{\"children\":\"설치가 끝나면\"}]\n24:[\"$\",\"p\",\"p-19\",{\"children\":\"jtop으로 구성 환경과 각 모듈이 잘 설치되었는지 확인해주면 된다.\"}]\n25:[\"$\",\"p\",\"p-20\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"https://user-images.githubusercontent.com/84653623/219853927-2814755c-3693-4902-9323-44280909ec0a.png\",\"alt\":\"Untitled 1\"}]}]\n26:[\"$\",\"p\",\"p-21\",{\"children\":\"이런 느낌으로!\"}]\n27:[\"$\",\"h1\",\"h1-1\",{\"id\":\"\",\"className\":\"text-3xl font-bold mt-8 mb-4\",\"children\":\"글을 마무리하며,,\"}]\n28:[\"$\",\"p\",\"p-22\",{\"children\":\"여기까지 따라오면 yolov5를 설치하기 위한 환경 설정이 완료됩니다.\"}]\n29:[\"$\",\"p\",\"p-23\",{\"children\":\"다음 포스팅에서는 본격적인 yolov5 설치와 프로젝트 중 발생했던 오류들에 대해 설명하고 해결 방법들을 제시하도록 하겠습니다.\"}]\n2a:[\"$\",\"p\",\"p-24\",{\"children\":\"PS. 추가 문의사항 및 질문은 환영합니다. 그를 통해 저도 더 성장할 수 있을테니까요. 긴 글 읽어주셔서 감사합니다.\"}]\n2b:[\"$\",\"$L2d\",null,{}]\n2f:T1c12,"])</script><script>self.__next_f.push([1,"이전 포스팅에 이어 진행하도록 하겠습니다.\n이 부분은 NVIDIA의 JETSON NANO에서도 동일하게 작동하게 됩니다!\n\n# 2.  Jetson Nano 내에 CUDA Build 진행\n\n이때는 참고 사이트 3번, 4번을 보면서 설치해주면 된다.\n\n참고로, yahboom은 nvidia와 달리, jetpack 버전이 4.4.1로 고정되어 있기 때문에(23.01.09 기준) 그대로 따라하다가는 제대로 작동하지 않는 경우의 수가 발생할 수도 있다…!!\n\nopencv를 build해 줄 때 맞는 버전을 찾아서 해주는게 중요.\n\n### (23.01.09 오류 발견) - jetpack unknown 관련\n\n- opencv를 cuda와 연결해주기 위해 build를 하게 되는데, 이 과정에서 jetpack의 버전이 unknown으로 바뀌어버리는 문제 발생 (jtop을 명령어로 입력해주면 젯슨을 구성하는 gpu, memory 등등 확인 간능)\n- 개인적인 판단에는 sudo apt-get upgrade 과정에서 다음과 같은 error가 발생했었는데..\n    \n    ![Untitled](https://user-images.githubusercontent.com/84653623/219853939-abbffaa9-00c9-4e77-8bfd-ddffcb0ba9f6.png)\n    \n    - 위의 에러를 해결하고자 다음 사이트를 참고하여 nvidia-l4t-bootloader, nvidia-l4t-xusb-firmware, nvidia-l4t-initrd를 삭제해주었었는데, 이러한 행동이 jetpack unknown의 결과를 초래한 것 같다.\n    - 일단 opencv build를 그대로 진행하였고, 이후 yolov5의 requirements를 설치해준 뒤 작동여부를 확인할 예정!\n    - 참고 사이트\n        - 본 글의 해결 방법 3번 이용.\n        \n        [Ubuntu에서 \\하위 프로세스 / usr / bin / dpkg가 오류 코드 (1)를 반환 함\\을 해결하는 방법](https://ko.linux-console.net/?p=354#gsc.tab=0)\n        \n    - 결과론 적으로 일단 잘 설치되고 작동은 한다??! (2023.01.11)\n    - FPS 문제가 있기는 한데 차차 해결하는걸로\n    - 여기서 명시해놓은 부분은 다음번 야붐 만들 때 적용해서 해 볼 예정!!\n\n우선 필수 SW를 설치해줘야 한다.\n\n## 1. Jetson-stats\n\njetson-stats는 Jetson Nano의 종합적인 Stat을 기존의 수많은 터미널 명령어로 확인해야 했으나, TUI(Text User Interface) 형태로 편리하게 이용 가능함.\n\n```bash\n$ sudo apt-get update\n$ sudo apt-get upgrade # 이 줄이 오류(23.01.09)를 야기했던 것으로 기억. 다음 시도때는 이 줄 없이 진행해볼 예정(22.01.10)\n$ sudo apt-get install python-pip\n$ sudo -H pip install -U jetson-stats\n$ sudo reboot\n\n# jetson-stats 실행\n$ jtop\n```\n\n터미널에 jtop 명령어를 입력하는 것만으로 ********************************************************************************************************************************************************************************************************************************************CPU, GPU, RAM, Swap, Fan 등의 H/W정보와 CUDA, TensorRT, Jetpack 버전 확인 및 Fan Speed, Swap 공간 설정********************************************************************************************************************************************************************************************************************************************이 가능하다.\n\n## 2. gdm3 제거 및 lightdm 설치\n\nJetson Nano는 lightdm 환경에서 YOLOv5를 실행시키면 램 사용량이 3.9 / 4.1GB까지 치솟는다.\n\n또한 Swap도 200MB정도 차지. 또한 이후 ****OpenCV 빌드를 위해 Swap 공간까지 총 8.5GB+의 공간이 필요!****\n\n따라서 램 사용량을 최대한 줄여야하는데, desktop manager으로 lightdm을 사용함으로서 RAM 사용량을 손쉽게 줄일 수 있음.\n\n```bash\n$ sudo apt-get install lightdm\n$ sudo apt-get purge gdm3\n```\n\n## 3. Swap 공간 설정하기\n\n다음과 같은 내용으로 스왑 파일 내의 값을 업데이트.\n\n모든 것이 완료되어 재부팅된 후, 터미널에서 free -m 명령어를 입력했을 때, swap 공간이 6074정도로 나오면 성공!\n\n```bash\n\n# 업데이트 확인, 이전 단계에서 했다면 굳이 할 필요 없음\n$ sudo apt-get update\n$ sudo apt-get upgrade\n\n# nano 에디터를 설치\n$ sudo apt-get install nano\n\n# dphys-swapfile을 설치\n$ sudo apt-get install dphys-swapfile\n\n## 두 Swap 파일의 값이 다음과 같도록 값을 추가하거나, 파일 내 주석 해제\n# CONF_SWAPSIZE=4096\n# CONF_SWAPFACTOR=2\n# CONF_MAXSWAP=4096\n\n# /sbin/dphys-swapfile를 엽니다.\n$ sudo nano /sbin/dphys-swapfile\n \n# 값을 수정한 후 [Ctrl] + [X], [y], [Enter]를 눌러 저장하고 닫습니다\n \n \n# /etc/dphys-swapfile를 편집합니다.\nsudo nano /etc/dphys-swapfile\n \n# 값을 수정한 후 [Ctrl] + [X], [y], [Enter]를 눌러 저장하고 닫습니다\n\n# Jetson Nano 재부팅\nsudo reboot\n```\n\n## 4. OpenCV 4.5.0 with Cuda\n\n```bash\n# check your memory first\n$ free -m\n# you need at least a total of 6.5 GB!\n# if not, enlarge your swap space as explained in the guide\n$ wget https://github.com/Qengineering/Install-OpenCV-Jetson-Nano/raw/main/OpenCV-4-5-0.sh\n$ sudo chmod 755 ./OpenCV-4-5-0.sh\n$ ./OpenCV-4-5-0.sh\n```\n\n이때 편리성을 위해서 마지막 줄 명령어를 sudo로 입력하면, 이것저것 다시 깔아줘야하므로,…( 이래서 다시 밀었음)\n\n그냥 저 코드 써져 있는 그대로 진행해주세욤\n\n약 2시간 30분 정도 소요되는데 그것보다 더 오래 걸릴 수도 있음\n\n인내심을 갖고 기다리면서 다른거 하면서 보면 되는데, 꼭 잘 되고 있는지 확인해주기!\n\n## 5. ****PyTorch 1.8 + torchvision v0.9.0****\n\n큰 산들은 거의 다 넘어왔다. 여기까지 성공했으면 90프로 온거다.\n\n이제 pytorch와 torchvision을 설치하고 YOLOv5에 필요한 equirements만 설치하면 모든 게 다 끝난다.\n\n```bash\n# PyTorch 1.8.0 다운로드 및 dependencies 설치\nwget https://nvidia.box.com/shared/static/p57jwntv436lfrd78inwl7iml6p13fzh.whl -O torch-1.8.0-cp36-cp36m-linux_aarch64.whl\nsudo apt-get install python3-pip libopenblas-base libopenmpi-dev \n \n# Cython, numpy, pytorch 설치\npip3 install Cython\npip3 install numpy torch-1.8.0-cp36-cp36m-linux_aarch64.whl\n \n# torchvision dependencies 설치\nsudo apt-get install libjpeg-dev zlib1g-dev libpython3-dev libavcodec-dev libavformat-dev libswscale-dev\ngit clone --branch v0.9.0 https://github.com/pytorch/vision torchvision\ncd torchvision\nexport BUILD_VERSION=0.9.0\npython3 setup.py install --user\ncd ../  # attempting to load torchvision from build dir will result in import error\n```\n\n설치가 끝나면\n\njtop으로 구성 환경과 각 모듈이 잘 설치되었는지 확인해주면 된다.\n\n![Untitled 1](https://user-images.githubusercontent.com/84653623/219853927-2814755c-3693-4902-9323-44280909ec0a.png)\n\n이런 느낌으로!\n\n# 글을 마무리하며,,\n여기까지 따라오면 yolov5를 설치하기 위한 환경 설정이 완료됩니다. \n\n다음 포스팅에서는 본격적인 yolov5 설치와 프로젝트 중 발생했던 오류들에 대해 설명하고 해결 방법들을 제시하도록 하겠습니다.\n\nPS. 추가 문의사항 및 질문은 환영합니다. 그를 통해 저도 더 성장할 수 있을테니까요. 긴 글 읽어주셔서 감사합니다. \n"])</script><script>self.__next_f.push([1,"2c:[\"$\",\"$L2e\",null,{\"content\":\"$2f\"}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n6:null\n"])</script><script>self.__next_f.push([1,"8:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Sehoon's Workspace\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Welcome to my page!\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"d:\"$8:metadata\"\n"])</script></body></html>